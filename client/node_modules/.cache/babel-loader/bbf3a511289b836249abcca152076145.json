{"ast":null,"code":"import _objectSpread from\"C:/Users/NicoT/Desktop/GitHub/Key-Saver-New/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/NicoT/Desktop/GitHub/Key-Saver-New/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{Box,Container,Grid}from'@mui/material';import Navbar from'../components/Navbar';import AccountCard from'../components/AccountCard';import FormAddCard from'../components/FormAddCard';import axios from'axios';import{useEffect}from'react';import{useAuth}from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var auth=useAuth();var _React$useState=React.useState({allAccounts:[],displayedAccounts:[],searchText:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1];var _React$useState3=React.useState({name:\"\",surname:\"\"}),_React$useState4=_slicedToArray(_React$useState3,2),user=_React$useState4[0],setUser=_React$useState4[1];useEffect(function(){axios.get('http://localhost:5000/user',{params:{user:auth.user}}).then(function(response){setUser({name:response.data['Name'],surname:response.data['Surname']});});axios.get('http://localhost:5000/search',{params:{user:auth.user}}).then(function(response){setValues(_objectSpread(_objectSpread({},values),{},{allAccounts:response.data,displayedAccounts:response.data}));});},[]);var updateScreen=function updateScreen(){axios.get('http://localhost:5000/search',{params:{user:auth.user}}).then(function(response){setValues(_objectSpread(_objectSpread({},values),{},{allAccounts:response.data,displayedAccounts:response.data}));});};var searchAccount=function searchAccount(e){var search=e.target.value;var searchAccount=[];if(search!=\"\"){values.allAccounts.forEach(function(account){if(account['Name'].toLowerCase().startsWith(search.toLowerCase()))searchAccount.push(account);});setValues(_objectSpread(_objectSpread({},values),{},{displayedAccounts:searchAccount}));}else{setValues(_objectSpread(_objectSpread({},values),{},{displayedAccounts:values.allAccounts}));}};var handleDeleteAccount=function handleDeleteAccount(idCard){axios.get('http://localhost:5000/deleteAccount',{params:{id:idCard}}).then(function(response){if(response.data==\"OK\"){updateScreen();}});};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Navbar,{pushData:searchAccount,name:user.name,surname:user.surname}),/*#__PURE__*/_jsx(Container,{sx:{mt:4,mb:4},children:/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",alignItems:\"center\",spacing:3,children:values.displayedAccounts.map(function(account){return/*#__PURE__*/_jsx(AccountCard,{id:account['ID'],name:account['Name'],web:account['Web'],username:account['User'],password:account['Password'],website:account['Web'],deleteAccount:handleDeleteAccount,email:account['Mail']},account['ID']);})})}),/*#__PURE__*/_jsx(FormAddCard,{handleClickSave:updateScreen,user:auth.user})]});}export default Home;","map":{"version":3,"names":["React","Box","Container","Grid","Navbar","AccountCard","FormAddCard","axios","useEffect","useAuth","Home","auth","useState","allAccounts","displayedAccounts","searchText","values","setValues","name","surname","user","setUser","get","params","then","response","data","updateScreen","searchAccount","e","search","target","value","forEach","account","toLowerCase","startsWith","push","handleDeleteAccount","idCard","id","mt","mb","map"],"sources":["C:/Users/NicoT/Desktop/GitHub/Key-Saver-New/client/src/main/Home.jsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Box, Container, Grid} from '@mui/material';\r\nimport Navbar from '../components/Navbar';\r\nimport AccountCard from '../components/AccountCard';\r\nimport FormAddCard from '../components/FormAddCard';\r\nimport axios from 'axios';\r\nimport { useEffect } from 'react';\r\nimport { useAuth } from '../utils/auth';\r\n\r\nfunction Home(){\r\n    const auth = useAuth();\r\n    const [values, setValues] = React.useState({\r\n        allAccounts: [],\r\n        displayedAccounts: [],\r\n        searchText: \"\"\r\n    })\r\n    const [user, setUser] = React.useState({\r\n        name: \"\",\r\n        surname: \"\"\r\n    })\r\n\r\n    useEffect(() => {\r\n        axios\r\n        .get('http://localhost:5000/user', {params: {user: auth.user}})\r\n        .then(response => {\r\n            setUser({\r\n                name: response.data['Name'],\r\n                surname: response.data['Surname']\r\n            })\r\n        })\r\n\r\n        axios\r\n        .get('http://localhost:5000/search', {params: {user: auth.user}})\r\n        .then(response => {setValues({\r\n            ...values,\r\n            allAccounts: response.data, \r\n            displayedAccounts: response.data})})\r\n    }, []);\r\n\r\n    const updateScreen = () => {\r\n        axios\r\n        .get('http://localhost:5000/search', {params: {user: auth.user}})\r\n        .then(response => {setValues({\r\n            ...values,\r\n            allAccounts: response.data,\r\n            displayedAccounts: response.data})})\r\n    }\r\n\r\n    const searchAccount = (e) => {\r\n        const search = e.target.value;\r\n        const searchAccount = [];\r\n        if(search != \"\"){\r\n            values.allAccounts.forEach(account => {\r\n                if(account['Name'].toLowerCase().startsWith(search.toLowerCase())) searchAccount.push(account)\r\n            })\r\n            setValues({...values, displayedAccounts: searchAccount});\r\n        }\r\n        else{\r\n            setValues({...values, displayedAccounts: values.allAccounts});\r\n        }\r\n    }\r\n\r\n    const handleDeleteAccount = (idCard) => {\r\n        axios\r\n        .get('http://localhost:5000/deleteAccount', {params: {id: idCard}})\r\n        .then(response => {\r\n            if(response.data == \"OK\"){\r\n                updateScreen();\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    return(\r\n        <Box>\r\n            <Navbar pushData={searchAccount} name={user.name} surname={user.surname}/>\r\n            <Container sx={{mt: 4, mb: 4}}>\r\n                <Grid container justifyContent=\"center\" alignItems=\"center\" spacing={3}>\r\n                    {values.displayedAccounts.map(account => (\r\n                        <AccountCard\r\n                        key={account['ID']}\r\n                        id={account['ID']}\r\n                        name={account['Name']}\r\n                        web={account['Web']}\r\n                        username={account['User']}\r\n                        password={account['Password']}\r\n                        website={account['Web']}\r\n                        deleteAccount={handleDeleteAccount}\r\n                        email={account['Mail']}\r\n                        />\r\n                    ))}\r\n                </Grid>    \r\n            </Container>\r\n            <FormAddCard handleClickSave={updateScreen} user={auth.user}/> \r\n        </Box>\r\n    );\r\n}\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}